#lang racket
;修改后 P1 的两次访问 x, 成为不可打断的整体。
;但访问 x 和设置 x 之间,还是可以被打断,也就被分成 P1-get、P1-set 两大部分。
;P2 是个不可打断的整体。于是
;101 可能会出现: P1 将 x 设置为 100, 而后 P2 将 x 增加到 101。
;121 可能会出现: P2 将 x 增加到 11, 而后 P1 将 x 设置为 11 * 11。
;110 不会再出现。P1 的两次访问 x, 不可被打断。
;11  不会再出现。P2 是个不可打断的整体。
;100 可能会出现。P1 两次访问 x 后,P2 将 x 设置为 11,而后 P1 又将 x 设置为 10 * 10。
